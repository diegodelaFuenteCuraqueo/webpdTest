<!doctype HTML>

<html>
  <head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script url="lib/pd-fileutils.js"></script>
    <script src="lib/webpd-latest.js"></script>
    <script src="lib/examples.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- <link href='/lib/examples.css' rel='stylesheet' type='text/css'> -->
  <link href='styles/style1.css' rel='stylesheet' type='text/css'>

  </head>

  <body>

    <H1 align="center"> PD TEST1 </H1>

    <div class="container center_div">
      <div id="loading">Loading ...</div>
      <button id="startButton">Start</button> <!-- este boton es jodidamente misterioso...-->
    </div>

    <div class="container center_div">
      <input type="range" name="amp" id="amp" min="0.0" max="2.2" step="0.01" onchange="setAmp()">
      <button id="nuevasNotas" name="nuevasNotas" value="nuevasNotas">nuevasNotas</button>
    </div>

    <script type="text/javascript">
      
      webPdExamples.init()

      var patch
      $.get('pd/main2.pd', function(mainStr) {
        // Loading the patch
        patch = Pd.loadPatch(mainStr)
        webPdExamples.patchLoaded(mainStr)
      })



      function nuevasNotas(){
        Pd.send("activarNotas", "bang");
      }    

      $(document).on('input', '#amp', function() {
        let a = $('#amp').val() ;
        Pd.send("amp", [ parseFloat(a) ] );
        console.log(a+" -> [r amp]");
      });
      /*
      function setAmp (){
        Pd.send("ampIn", [parseFloat( $('#ampInput').val() )*0.01] );
        $("#ampLabel").empty();
        $("#ampLabel").append("Amp: "+$('#ampInput').val());
        //$("#txt").text() = $('#ampInput').val();
      }
        */


    </script>

  </body>
</html>